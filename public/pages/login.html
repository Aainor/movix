<!DOCTYPE html>
<html lang="es">
  <head>
       
    <meta charset="UTF-8" />
       
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
       
    <title>MOVIX - Tu solución de mudanzas</title>
       
    <link rel="shortcut icon" href="../images/camion.ico" type="image/x-icon" />
       
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
       
    <link rel="stylesheet" href="../css/login.css" />
       
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
       
    <div class="slideshow-container">
                     
      <div class="mySlides fade">
                   
        <img src="../images/mudanza2.jpg" alt="Equipo cargando muebles" />      
         
      </div>
             
      <div class="mySlides fade">
                   
        <img src="../images/mudanza1.jpg" alt="Empaquetando objetos" />        
      </div>
             
      <div class="mySlides fade">
                   
        <img src="../images/mudanza3.jpg" alt="Camión de mudanzas" />        
      </div>
             
      <div class="mySlides fade">
                   
        <img src="../images/mudanza4.jpg" alt="Trabajador cargando caja" />    
           
      </div>
         
    </div>

       
    <div class="overlay"></div>

       
    <div class="container">
             
      <h1 class="logo">MOVIX</h1>

             
      <div class="auth-container" id="auth-container">
                               
        <div class="form-container" id="login-form">
                         
          <h2>Iniciar Sesión</h2>
                         
          <form id="login">
                               
            <div class="input-group">
                                      <i class="fas fa-envelope"></i>          
                           
              <input
                type="email"
                id="login-email"
                placeholder="Correo electrónico"
                required
              />
                                 
            </div>
                               
            <div class="input-group">
                                      <i class="fas fa-lock"></i>              
                       
              <input
                type="password"
                id="login-password"
                placeholder="Contraseña"
                required
              />
                                 
            </div>
                               
            <button type="submit" class="btn">Ingresar</button>                
          </form>
                         
          <p class="auth-toggle">
            ¿No tienes cuenta? <span id="show-register">Regístrate</span>
          </p>
                         
          <div class="divider">
                                <span>o</span>                
          </div>
                         
          <button class="btn google-btn" id="google-login">
                                <i class="fab fa-google"></i> Ingresar con
            Google                
          </button>
                     
        </div>

                               
        <div class="form-container hidden" id="register-form">
                         
          <h2>Registro</h2>
                         
          <form id="register">
                               
            <div class="input-group">
                                      <i class="fas fa-user"></i>              
                       
              <input
                type="text"
                id="register-name"
                placeholder="Nombre completo"
                required
              />
                                 
            </div>
                               
            <div class="input-group">
                                      <i class="fas fa-envelope"></i>          
                           
              <input
                type="email"
                id="register-email"
                placeholder="Correo electrónico"
                required
              />
                                 
            </div>
                               
            <div class="input-group">
                                      <i class="fas fa-lock"></i>              
                       
              <input
                type="password"
                id="register-password"
                placeholder="Contraseña"
                required
              />
                                 
            </div>
                               
            <div class="input-group">
                                      <i class="fas fa-lock"></i>              
                       
              <input
                type="password"
                id="register-confirm"
                placeholder="Confirmar contraseña"
                required
              />
                                 
            </div>
                               
            <button type="submit" class="btn">Registrarse</button>              
             
          </form>
                         
          <p class="auth-toggle">
            ¿Ya tienes cuenta? <span id="show-login">Inicia sesión</span>
          </p>
                     
        </div>

                               
        <div class="user-container hidden" id="user-container">
                         
          <div class="user-info">
                               
            <img id="user-photo" src="" alt="Foto de perfil" />                
               
            <h2 id="user-name"></h2>
                               
            <p id="user-email"></p>
                           
          </div>
                         
          <button class="btn logout-btn" id="logout">Cerrar Sesión</button>    
                 
        </div>
               
      </div>
         
    </div>
    <div id="message-display" style="margin-top: 15px; color: red; text-align: center;"></div>

    <script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.0/firebase-firestore-compat.js"></script>
    <script src="../js/login.js"></script>
    <script src="../js/carousel.js"></script>
</body>

      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-app.js";
      import {
        getAuth,
        GoogleAuthProvider,
        signInWithPopup,
        createUserWithEmailAndPassword,
        signInWithEmailAndPassword,
        onAuthStateChanged,
        signOut,
      } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-auth.js";
      import {
        getFirestore,
        collection,
        addDoc,
      } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore.js"; // Inicializa Firebase

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const db = getFirestore(app); // Expón las instancias de Firebase y las funciones a window para que login.js pueda acceder a ellas

      window.firebaseApp = app;
      window.firebaseAuth = auth;
      window.firebaseDb = db;
      window.GoogleAuthProvider = GoogleAuthProvider;
      window.signInWithPopup = signInWithPopup;
      window.createUserWithEmailAndPassword = createUserWithEmailAndPassword;
      window.signInWithEmailAndPassword = signInWithEmailAndPassword;
      window.onAuthStateChanged = onAuthStateChanged;
      window.signOut = signOut;
      window.collection = collection; // para guardar datos de usuario si es necesario
      window.addDoc = addDoc; // para guardar datos de usuario si es necesario
    </script>
           
    <script src="../js/login.js"></script>
       
    <script src="../js/slideshow.js"></script>
  </body>
</html>
